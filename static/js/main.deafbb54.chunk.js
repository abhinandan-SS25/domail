(this.webpackJsonpdomail=this.webpackJsonpdomail||[]).push([[0],{12:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a.n(s),n=a(14),c=a.n(n),r=a(4),o=(a(12),a(35),a(3)),l=a(8),d=a(5),m=a(1),u=function(){var e=i.a.useState(""),t=Object(o.a)(e,2),a=t[0],s=t[1],n=i.a.useState(!1),c=Object(o.a)(n,2),u=c[0],j=c[1],p=i.a.useState(!0),b=Object(o.a)(p,2),h=b[0],f=(b[1],i.a.useState({email:"",password:""})),O=Object(o.a)(f,2),v=O[0],x=O[1];function _(e){s(""),x((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))}var g=Object(r.f)();return Object(m.jsxs)("form",{className:"form",id:"loginform",onSubmit:function(e){j((function(e){return!e})),e.preventDefault(),""===v.password||""===v.email?(s("Please complete all fields"),e.preventDefault(),j((function(e){return!e}))):fetch("https://mailmanapi.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:void 0===v.email.split("@")[1]?v.email+"@domial.com":v.email,password:v.password})}).then((function(e){return e.text()})).then((function(t){"Login successful"===t?(s(t),h&&g("/emails/inbox",{state:{username:void 0===v.email.split("@")[1]?v.email+"@domial.com":v.email,mailbox:"inbox",password:v.password,f_n:"to",l_n:"@Domail"}})):(s(t),e.preventDefault())})).then(j((function(e){return!e})))},children:[Object(m.jsxs)("div",{id:"entererror",children:[Object(m.jsx)("div",{className:"direction"}),Object(m.jsx)("div",{className:"direction",children:a})]}),Object(m.jsxs)("div",{id:"enter",children:[Object(m.jsxs)("div",{id:"greet",children:[Object(m.jsx)("p",{children:Object(m.jsx)("span",{children:"Welcome to @Domail"})}),"Enter your login data"]}),Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:_,value:v.email,type:"text",name:"email",autoComplete:"off",placeholder:"Enter your Email or Username"})}),Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:_,value:v.password,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your Password"})})]}),Object(m.jsx)("div",{className:"input",id:"change_on",children:Object(m.jsx)("div",{className:"submit",children:Object(m.jsx)("button",{disabled:u,style:{backgroundColor:!0===u?"#ff7e75":"#ff1100"},children:!0===u?"LOGGING IN":"LOG IN"})})})]})},j=function(e){var t=i.a.useState(""),a=Object(o.a)(t,2),s=a[0],n=a[1],c=i.a.useState(!0),u=Object(o.a)(c,2),j=u[0],p=(u[1],i.a.useState(!1)),b=Object(o.a)(p,2),h=b[0],f=b[1],O=i.a.useState({email:e.userData.email,password:""}),v=Object(o.a)(O,2),x=v[0],_=v[1];var g=Object(r.f)();return Object(m.jsxs)("form",{className:"form",id:"enterform",onSubmit:function(e){f((function(e){return!e})),e.preventDefault(),""===x.password?(n("Please complete all fields"),e.preventDefault(),f((function(e){return!e}))):fetch("https://mailmanapi.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:x.email,password:x.password})}).then((function(e){return e.text()})).then((function(t){"Login successful"===t?(n(t),j&&g("/emails/inbox",{state:{username:x.email,mailbox:"inbox",password:x.password,f_n:"to",l_n:"@Domail"}})):(n(t),e.preventDefault())})).then(f((function(e){return!e})))},children:[Object(m.jsxs)("div",{id:"entererror",children:[Object(m.jsx)("div",{className:"direction"}),Object(m.jsx)("div",{className:"direction",children:s})]}),Object(m.jsxs)("div",{id:"enter",children:[Object(m.jsx)("div",{id:"greet",children:Object(m.jsxs)("p",{children:["Welcome back, ",Object(m.jsxs)("span",{children:[e.userData.firstname," ",e.userData.lastname]})]})}),Object(m.jsxs)("div",{className:"direction",children:["Log in by entering the password to your account ",Object(m.jsx)("p",{children:e.userData.email})]}),Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:function(e){n(""),_((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))},value:x.password,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your Password"})})]}),Object(m.jsxs)("div",{className:"input",id:"change_on",children:[Object(m.jsx)("div",{id:"change",onClick:function(){return e.changeView(e.changeTo)},children:"Login with a different account"}),Object(m.jsx)("div",{className:"submit",children:Object(m.jsx)("button",{disabled:h,style:{backgroundColor:!0===h?"#ff7e75":"#ff1100"},children:!0===h?"LOGGING IN":"LOG IN"})})]})]})},p=function(){return Object(m.jsx)("form",{className:"form",children:"Loading ..."})},b=a(19),h=function(e){var t=e.text;return Object(m.jsxs)("div",{className:"travel",children:[t,"Register for a new account"===t&&Object(m.jsx)(b.a,{size:"30"}),"Login to your account"===t&&Object(m.jsx)(b.b,{size:"30"})]})},f=a(7),O=function(){var e=i.a.useState(Object(m.jsx)(p,{})),t=Object(o.a)(e,2),a=t[0],s=t[1];return i.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("domail_user"));s(null===e?Object(m.jsx)(u,{}):Object(m.jsx)(j,{changeView:s,changeTo:Object(m.jsx)(u,{}),userData:e}))}),[]),Object(m.jsxs)("div",{id:"login",children:[Object(m.jsxs)("div",{className:"auth",children:[Object(m.jsxs)("div",{className:"auth_declaration",children:[Object(m.jsxs)("div",{className:"declare",children:[Object(m.jsx)("p",{children:"Welcome to domail. We offer email services, that serve your purpose the best, with our security and easy-to-use application."}),Object(m.jsx)("p",{children:"Register for an account to get started and create an @domail account and login, to enjoy our services."})]}),Object(m.jsx)("div",{className:"purpose",children:"Login to your account with @domail."})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"authenticate",children:a})]}),Object(m.jsx)(f.b,{to:"/register",children:Object(m.jsx)(h,{text:"Register for a new account"})})]})},v=function(){var e=i.a.useState(""),t=Object(o.a)(e,2),a=t[0],s=t[1],n=i.a.useState(!1),c=Object(o.a)(n,2),u=c[0],j=c[1],p=i.a.useState({firstname:"",lastname:"",email:"",password:"",confirm:""}),b=Object(o.a)(p,2),h=b[0],f=b[1],O=i.a.useState(!0),v=Object(o.a)(O,2),x=v[0],_=v[1];function g(e){s(""),f((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))}var y=Object(r.f)();function N(){x&&y("/")}return Object(m.jsxs)("form",{onSubmit:function(e){j((function(e){return!e})),e.preventDefault(),""===h.firstname||""===h.lastname||""===h.email||""===h.password||""===h.confirm?(s("Please complete all fields"),e.preventDefault(),j((function(e){return!e}))):fetch("https://mailmanapi.herokuapp.com/register",{method:"POST",body:JSON.stringify({firstname:h.firstname,lastname:h.lastname,email:h.email,password:h.password,confirmation:h.confirm})}).then((function(e){return e.text()})).then((function(t){"Passwords unmatch"===t?(s("Password and Confirmation of password do not match"),e.preventDefault()):"Email pre-exists"===t?(s("An account with assossiated with the e-mail address already exists"),e.preventDefault()):"Register successful"===t?s("Successfuly signed up").then(localStorage.setItem("domail_user",JSON.stringify({firstname:h.firstname,lastname:h.lastname,email:h.email}))).then(_((function(e){return!e}))).then(N):s("Please try a different email username"),j((function(e){return!e}))}))},className:"form",children:[Object(m.jsxs)("div",{id:"f_n",children:[Object(m.jsx)("div",{className:"direction",children:a}),Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:g,value:h.firstname,type:"text",name:"firstname",autoFocus:!0,placeholder:"Enter your First Name"})})]}),Object(m.jsx)("div",{id:"l_n",children:Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:g,value:h.lastname,type:"text",name:"lastname",placeholder:"Enter your Last Name"})})}),Object(m.jsx)("div",{id:"e_n",children:Object(m.jsxs)("div",{className:"input",children:[Object(m.jsx)("input",{onChange:g,value:h.email,type:"text",name:"email",autoComplete:"off",placeholder:"Enter your Email Username"})," @domail.com"]})}),Object(m.jsxs)("div",{id:"pass",children:[Object(m.jsx)("div",{id:"password",children:Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:g,value:h.password,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your Password"})})}),Object(m.jsx)("div",{id:"confirm",children:Object(m.jsx)("div",{className:"input",children:Object(m.jsx)("input",{onChange:g,value:h.confirm,type:"password",name:"confirm",autoComplete:"off",placeholder:"Confirm your Password"})})})]}),Object(m.jsx)("div",{className:"submit",children:Object(m.jsx)("button",{disabled:u,style:{backgroundColor:!0===u?"#ff7e75":"#ff1100"},children:!0===u?"REGISTERING":"REGISTER"})})]})},x=function(){return Object(m.jsxs)("div",{id:"register",children:[Object(m.jsxs)("div",{className:"auth",children:[Object(m.jsxs)("div",{className:"auth_declaration",children:[Object(m.jsxs)("div",{className:"declare",children:[Object(m.jsx)("p",{children:"Welcome to domail."}),Object(m.jsx)("p",{children:"Register for a new account to enjoy our services with an @domail account."})]}),Object(m.jsx)("div",{className:"purpose",children:"Register for a new account with @domail."})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"authenticate",children:Object(m.jsx)(v,{})})]}),Object(m.jsx)(f.b,{to:"/",children:Object(m.jsx)(h,{text:"Login to your account"})})]})},_=(a(17),a(10)),g=function(e){var t=e.firstname,a=e.lastname,s=e.email,i=e.raiseCompose;return Object(m.jsxs)("div",{className:"account",children:[Object(m.jsxs)("div",{className:"account_name",children:[Object(m.jsxs)("p",{children:[t," ",a]})," ",Object(m.jsxs)("span",{className:"account_email",children:[" ",s]})]}),Object(m.jsx)("div",{onClick:function(){i((function(e){return{preBody:"",preSubject:"",preImportant:!1,visible:!0,preRecipients:s}}))},className:"account_mail",children:Object(m.jsx)(_.c,{color:"#6fc3d6"})})]})},y=function(e){var t=e.contacted,a=e.groups,s=e.profile,n=e.Contacts,c=e.raiseCompose,l=e.user,d=i.a.useState(!0),u=Object(o.a)(d,2),j=u[0];u[1];var p=i.a.useState(!0),b=Object(o.a)(p,2),h=b[0],f=b[1],O=i.a.useState(!1),v=Object(o.a)(O,2),x=v[0],_=v[1];window.setTimeout((function(){var e=document.querySelector("#profile").querySelector("#profile_name").innerText.split(" "),t=document.querySelector("#profile").querySelector("#profile_email").innerText;localStorage.setItem("domail_user",JSON.stringify({firstname:e[0],lastname:e[1],email:t}))}),5e3);var y=Object(r.f)();var N=i.a.useReducer((function(e){return e+1}),0),w=Object(o.a)(N,2)[1];return Object(m.jsx)("div",{id:"sidebar_layer",children:Object(m.jsxs)("div",{id:"sidebar",children:[Object(m.jsx)("p",{children:"Quick mailing"}),Object(m.jsx)("div",{className:"declare",onClick:function(){_((function(e){return!e}))},children:"Important Contacts"}),Object(m.jsxs)("div",{id:"imp_contacts",style:{height:x?"30vh":"0",opacity:x?"1":"0"},children:["Create a new contact",x&&Object(m.jsxs)("div",{id:"create_contact",children:[Object(m.jsxs)("div",{id:"contact_info",children:[Object(m.jsx)("input",{id:"contactname",name:"contactname",type:"text",placeholder:"Name"}),Object(m.jsx)("input",{id:"contactemail",name:"contactemail",type:"text",placeholder:"Email"})]}),Object(m.jsx)("div",{id:"save_contact",onClick:function(){!function(){var e=document.querySelector("#contactname").value,t=document.querySelector("#contactemail").value;if(0===e.length||0===t.length);else{document.querySelector("#save_con").style.backgroundColor="blue";var a=l.username,s=JSON.parse(localStorage.getItem("".concat(a))).contacts,i=JSON.parse(localStorage.getItem("".concat(a))).drafts;s.push({name:e,email:t}),localStorage.setItem("".concat(a),JSON.stringify({drafts:i,contacts:s})),n.push(Object(m.jsx)(g,{firstname:e,lastname:"",email:t,raiseCompose:c})),w(),document.querySelector("#save_con").style.backgroundColor="rgb(111, 195, 214)",document.querySelector("#contactname").value="",document.querySelector("#contactemail").value=""}}()},children:Object(m.jsx)("button",{id:"save_con",children:"Save Contact"})})]}),x&&Object(m.jsx)("div",{id:"important_contacts",children:n})]}),Object(m.jsx)("div",{className:"declare",id:"r_con",onClick:function(){f((function(e){return!e}))},children:"Recently Contacted"}),Object(m.jsx)("div",{id:"contacts",style:{height:h?"35vh":"0",opacity:h?"1":"0"},children:h&&t}),Object(m.jsx)("div",{className:"declare",children:"Your Groups"}),Object(m.jsx)("div",{id:"groups",children:a}),Object(m.jsxs)("div",{id:"profile",children:[Object(m.jsxs)("div",{id:"profile_log",children:[Object(m.jsx)("span",{id:"logged_in",children:"Logged in"}),Object(m.jsx)("button",{id:"logout",onClick:function(){fetch("https://mailmanapi.herokuapp.com/logout").then((function(e){return e.text()})).then((function(e){"Logout successful"===e&&j&&y("/")}))},children:"Log Out"})]}),Object(m.jsx)("hr",{id:"hr"}),s]})]})})},N=(a(20),a(26)),w=a(11),C=a(27),S=a(28),k=(a(37),a(24)),E=function(e){fetch("https://mailmanapi.herokuapp.com/emails/".concat(e.email.id),{method:"POST",body:JSON.stringify({read:!0,email:e.back.props.user.username,password:e.back.props.user.password})});var t=i.a.useState(e.email.archived),a=Object(o.a)(t,2),s=a[0],n=a[1];return Object(m.jsx)("div",{className:"mails",id:"email_mail",children:Object(m.jsxs)("div",{className:"mail",children:[Object(m.jsxs)("div",{className:"top_navigation",children:[Object(m.jsxs)("div",{onClick:function(){return e.changeview(e.back)},className:"back",children:[Object(m.jsx)(k.a,{size:"36"})," Back to ",e.back.type.name]}),Object(m.jsxs)("div",{className:"actions",children:[Object(m.jsx)("span",{onClick:function(){fetch("https://mailmanapi.herokuapp.com/emails/".concat(e.email.id),{method:"POST",body:JSON.stringify({archived:!s,email:e.back.props.user.username,password:e.back.props.user.password})}).then(n((function(e){return!e})))},id:"archive_action",children:s?"Unarchive Mail":"Archive Mail"}),Object(m.jsx)("span",{onClick:function(){e.raiseCompose((function(t){return{preBody:"On ".concat(e.email.timestamp,", ").concat(e.email.sender," wrote: \n\n").concat(e.email.body,"\n\n----------Replying to it-----------\n\n"),preSubject:"Re: ".concat(e.email.subject),preImportant:e.email.important,visible:!0,preRecipients:e.email.sender}}))},id:"reply_action",children:"Reply"})]})]}),Object(m.jsxs)("div",{className:"email",children:[Object(m.jsx)("div",{className:"email_subject",children:e.email.subject}),Object(m.jsxs)("div",{className:"email_sent",children:[Object(m.jsx)("div",{className:"email_sender",children:e.email.sender}),Object(m.jsx)("div",{className:"email_stamp",children:e.email.timestamp})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"email_body",children:e.email.body})]})]})})},T=(a(9),function e(t){var a=i.a.useState([]),s=Object(o.a)(a,2),n=s[0],c=s[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/inbox",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var r=n.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",outline:a.important?"1px solid yellow":"rgb(211,211,211)"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})})),l=i.a.useState(""),d=Object(o.a)(l,2),u=d[0],j=d[1];return window.setTimeout((function(){0===n.length?j("No emails to show in this category"):j("")}),1e4),Object(m.jsxs)("div",{className:"mails",id:"inboxmail",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Inbox"}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_sender_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_body_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for content"})})]})]}),Object(m.jsx)("div",{className:"email_list",children:r}),u]})}),I=function e(t){var a=i.a.useState([]),s=Object(o.a)(a,2),n=s[0],c=s[1],r=i.a.useState([]),l=Object(o.a)(r,2),d=l[0],u=l[1],j=i.a.useState([]),p=Object(o.a)(j,2),b=p[0],h=p[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/important",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/inbox",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]),i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/archive",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return h(e)}))}),[]);var f=n.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",borderColor:"yellow"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})})),O=d.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})})),v=b.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",borderColor:"green"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})}));return Object(m.jsxs)("div",{className:"mails",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"All mail"}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_sender_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_body_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for content"})})]})]}),Object(m.jsxs)("div",{id:"allmail",children:[Object(m.jsx)("div",{id:"left_mail",children:Object(m.jsxs)("div",{id:"important_email",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Important Mails"}),Object(m.jsx)("div",{className:"email_list",children:f})]})}),Object(m.jsxs)("div",{id:"right_mail",children:[Object(m.jsxs)("div",{id:"inbox_email",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Inbox Mails"}),Object(m.jsx)("div",{className:"email_list",children:O})]}),Object(m.jsxs)("div",{id:"archived_email",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Archived Mails"}),Object(m.jsx)("div",{className:"email_list",children:v})]})]})]})]})},q=function e(t){var a=i.a.useState([]),s=Object(o.a)(a,2),n=s[0],c=s[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/sent",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var r=n.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",borderColor:a.important?"yellow":"rgb(211,211,211)"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})}));var l=i.a.useState(""),d=Object(o.a)(l,2),u=d[0],j=d[1];return window.setTimeout((function(){0===n.length?j("No emails to show in this category"):j("")}),1e4),Object(m.jsxs)("div",{className:"mails",id:"sentmail",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Sent Mails"}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_sender_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_body_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for content"})})]})]}),Object(m.jsx)("div",{className:"email_list",children:r}),u]})},J=function e(t){var a=i.a.useState([]),s=Object(o.a)(a,2),n=s[0],c=s[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/archive",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var r=n.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",borderColor:"green"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})}));var l=i.a.useState(""),d=Object(o.a)(l,2),u=d[0],j=d[1];return window.setTimeout((function(){0===n.length?j("No emails to show in this category"):j("")}),1e4),Object(m.jsxs)("div",{className:"mails",id:"archivedmail",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Archived Mails"}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_sender_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_body_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for content"})})]})]}),Object(m.jsx)("div",{className:"email_list",children:r}),u]})},L=function e(t){var a=i.a.useState([]),s=Object(o.a)(a,2),n=s[0],c=s[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/emails/important",{method:"POST",body:JSON.stringify({email:t.user.username,password:t.user.password})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var r=n.map((function(a){return Object(m.jsxs)("div",{onClick:function(){return t.changeview(Object(m.jsx)(E,{raiseCompose:t.raiseCompose,email:a,changeview:t.changeview,back:Object(m.jsx)(e,{raiseCompose:t.raiseCompose,changeview:t.changeview,user:t.user})}))},style:{backgroundColor:a.read?"#dedede":"white",borderColor:"yellow"},id:a.id,className:"email_rep",children:[Object(m.jsxs)("div",{className:"email_info_rep",children:[Object(m.jsx)("div",{className:"email_sender_rep",children:a.sender}),Object(m.jsx)("div",{className:"email_sent_time_rep",children:a.timestamp.split(",")[1]})]}),Object(m.jsxs)("div",{className:"email_info_2_rep",children:[Object(m.jsxs)("div",{className:"email_body_rep",children:[Object(m.jsxs)("span",{id:"email_subject_rep",children:[a.subject,":"]})," ",a.body]}),Object(m.jsx)("div",{className:"email_sent_date_rep",children:a.timestamp.split(",")[0]})]})]})})),l=i.a.useState(""),d=Object(o.a)(l,2),u=d[0],j=d[1];return window.setTimeout((function(){0===n.length?j("No emails to show in this category"):j("")}),1e4),Object(m.jsxs)("div",{className:"mails",id:"importantmail",children:[Object(m.jsx)("div",{className:"mailbox_name",children:"Important Mails"}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_sender_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".email_body_rep").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.parentElement.style.display="":e.parentElement.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eSearch for content"})})]})]}),Object(m.jsx)("div",{className:"email_list",children:r}),u]})},M=function(e){var t=i.a.useState([]),a=Object(o.a)(t,2),s=a[0],n=a[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/accounts").then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]);var c=s.map((function(t){return Object(m.jsxs)("div",{className:"network_account",children:[Object(m.jsxs)("div",{className:"network_account_name",children:[t.firstname," ",t.lastname]}),Object(m.jsx)("div",{className:"network_account_email",children:t.email}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{onClick:function(){return a=t.email,void e.raiseCompose({preBody:"",preSubject:"",preImportant:!1,visible:!0,preRecipients:a});var a},className:"mail_account",children:["Mail ",t.firstname]})]})}));return Object(m.jsxs)("div",{className:"mails",id:"networkmail",children:[Object(m.jsxs)("div",{className:"network_declare",children:["Network",Object(m.jsx)("div",{className:"network_smaller",children:"Discover other people on @domail.com and expand your Network"})]}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsx)("div",{className:"left_div",children:"Search Accounts:"}),Object(m.jsxs)("div",{className:"right_div",children:[Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#name_search"),t=e.value.toUpperCase(),document.querySelectorAll(".network_account_name").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.style.display="":e.parentElement.style.display="none"}))},id:"name_search",name:"name_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eType a name"})}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsx)("input",{type:"text",onChange:function(){var e,t;e=document.querySelector("#subject_search"),t=e.value.toUpperCase(),document.querySelectorAll(".network_account_email").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.style.display="":e.parentElement.style.display="none"}))},id:"subject_search",name:"subject_search",autoComplete:"off",autoSave:"off",placeholder:"\ud83d\udd0e\ufe0eType an email"})})]})]}),Object(m.jsx)("div",{id:"network_contacts",children:c})]})},P=function(e){var t=i.a.useState({visible:!1,message:""}),a=Object(o.a)(t,2),s=a[0],n=a[1],c=i.a.useState(!1),r=Object(o.a)(c,2),u=r[0],j=r[1],p=i.a.useState([]),b=Object(o.a)(p,2),h=b[0],f=b[1],O=i.a.useState([]),v=Object(o.a)(O,2),x=v[0],_=v[1],g=i.a.useState({group_create_name:"",group_create_members:""}),y=Object(o.a)(g,2),N=y[0],w=y[1];function C(e){n({visible:!1,message:""}),w((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))}function S(e){var t=N.group_create_members;w(""===t?function(a){return Object(d.a)(Object(d.a)({},a),{},{group_create_members:t+e.target.getAttribute("data-name")})}:function(a){return Object(d.a)(Object(d.a)({},a),{},{group_create_members:t+","+e.target.getAttribute("data-name")})})}i.a.useEffect(T,[]),i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/accounts").then((function(e){return e.json()})).then((function(e){return _(e)}))}),[]);var k=x.map((function(t){return!(t.email===e.user.username)&&Object(m.jsxs)("div",{onClick:S,"data-name":t.email,className:"group_account",children:[Object(m.jsxs)("div",{"data-name":t.email,className:"group_account_name",children:[t.firstname," ",t.lastname]}),Object(m.jsx)("div",{"data-name":t.email,className:"group_account_email",children:t.email})]})}));function E(t){fetch("https://mailmanapi.herokuapp.com/account/your_groups",{method:"POST",body:JSON.stringify({email:e.user.username,password:e.user.password,operation:"delete_group",id:t.target.getAttribute("data-id")})}).then((function(e){return e.text()})).then((function(e){return n({visible:!0,message:e})})).then(T)}function T(){fetch("https://mailmanapi.herokuapp.com/account/your_groups",{method:"POST",body:JSON.stringify({email:e.user.username,password:e.user.password,operation:""})}).then((function(e){return e.json()})).then((function(t){var a=t.map((function(t){var a=t.members.map((function(e){return Object(m.jsx)("div",{children:e})}));return Object(m.jsxs)("div",{id:t.id,className:"network_group",children:[Object(m.jsxs)("div",{className:"network_group_name",children:[t.name," ",Object(m.jsx)("span",{style:{marginLeft:"10px",color:"#f2edaa",fontSize:"14px"},children:t.creator})," ",t.creator.split("@")[0]===e.user.username.split("@")[0]?Object(m.jsx)("span",{onClick:E,"data-id":t.id,style:{marginLeft:"10px",color:"white",fontSize:"16px",cursor:"pointer"},children:"Delete Group"}):""]}),Object(m.jsx)("div",{className:"network_group_members",children:a})]})}));f(a)}))}return Object(m.jsxs)("div",{className:"mails",id:"groupmail",children:[Object(m.jsxs)("div",{className:"network_declare",children:["Groups",Object(m.jsx)("div",{className:"network_smaller",children:"View and manage your Groups"})]}),Object(m.jsxs)("div",{id:"group_list",children:[Object(m.jsxs)("div",{id:"create_group",children:[Object(m.jsxs)("div",{className:"network_declare",children:["Create New Group",Object(m.jsx)("div",{className:"network_smaller",children:"Gather your contacts into a group and create a new one"})]}),Object(m.jsxs)("div",{id:"group_create_details",children:["Enter new group details:",Object(m.jsx)("input",{id:"group_create_name",onChange:C,name:"group_create_name",value:N.group_create_name,placeholder:"Name the new Group"}),Object(m.jsx)("input",{id:"group_create_members",onChange:C,name:"group_create_members",value:N.group_create_members,placeholder:"Add members seperated with ,"})]}),Object(m.jsx)("button",{id:"create_group_button",disabled:u,style:{backgroundColor:u?"rgb(100,100,100)":"rgb(68,68,68)"},onClick:function(t){""===N.group_create_members||""===N.group_create_name?(n({visible:!0,message:"Please complete all fields."}),t.preventDefault()):(j((function(e){return!e})),fetch("https://mailmanapi.herokuapp.com/account/your_groups",{method:"POST",body:JSON.stringify({email:e.user.username,password:e.user.password,operation:"new_group",name:N.group_create_name,members:N.group_create_members})}).then((function(e){return e.text()})).then((function(e){return n({visible:!0,message:e})})).then(w({group_create_name:"",group_create_members:""})).then(j((function(e){return!e}))).then(T))},children:"Create Group"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{id:"group_contacts",children:[Object(m.jsx)("input",{id:"search_group_contact",onChange:function(){var e,t;e=document.querySelector("#search_group_contact"),t=e.value.toUpperCase(),document.querySelectorAll(".group_account_email").forEach((function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.parentElement.style.display="":e.parentElement.style.display="none"}))},placeholder:"\ud83d\udd0e\ufe0e Search for an email"}),k]})]}),Object(m.jsx)("div",{id:"show_groups",children:h})]}),s.visible&&Object(m.jsx)("div",{id:"group_message",children:s.message})]})},U=a(25),A=function(e){var t=JSON.parse(localStorage.getItem("".concat(e.user.username))).drafts;return t=t.map((function(t){return Object(m.jsxs)("div",{className:"draft",children:[Object(m.jsx)("div",{className:"draft_name",children:t.name}),Object(m.jsx)("div",{className:"draft_subject",children:t.subject}),Object(m.jsx)("span",{onClick:function(){return a=t.subject,s=t.recipients,i=t.important,n=t.body,c=t.name,void e.raiseCompose((function(e){return{visible:!0,preBody:n,preSubject:a,preImportant:i,preRecipients:s,nosave:!0,nosavename:c}}));var a,s,i,n,c},className:"draft_edit",children:Object(m.jsx)(U.a,{size:"20px"})})]})})),Object(m.jsxs)("div",{id:"drafts",children:[Object(m.jsx)("div",{id:"declare_draft",children:"Drafts"}),t]})},R=function(e){i.a.useEffect((function(){e.changeview(Object(m.jsx)(I,{raiseCompose:e.raiseCompose,user:e.user,changeview:e.changeview}))}),[]);var t=i.a.useState(!1),a=Object(o.a)(t,2),s=a[0],n=a[1];return Object(m.jsxs)("div",{id:"topbar",children:[s&&Object(m.jsx)(A,{user:e.user,raiseCompose:e.raiseCompose}),Object(m.jsx)("div",{id:"domail_icon"}),Object(m.jsxs)("div",{id:"email_composer",children:[Object(m.jsxs)("div",{onClick:function(){e.raiseCompose((function(e){return{visible:!0,preBody:"",preSubject:"",preImportant:!1,preRecipients:""}}))},className:"divider",children:[Object(m.jsx)("div",{id:"compose_icon",children:Object(m.jsx)(N.a,{size:"36",color:"red"})}),Object(m.jsx)("div",{children:"Compose Email"})]}),Object(m.jsxs)("div",{className:"divider",children:[Object(m.jsx)("div",{onClick:function(){n((function(e){return!e}))},id:"draft_icon",children:Object(m.jsx)(w.c,{size:"36",color:"grey"})}),Object(m.jsx)("div",{children:"Drafts"})]})]}),Object(m.jsxs)("div",{id:"navigation_icons",children:[Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(I,{raiseCompose:e.raiseCompose,changeview:e.changeview,user:e.user}))},className:"navigate_icon",id:"all_mail",children:Object(m.jsxs)("div",{className:"AllMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(C.a,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"All Mails"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(L,{raiseCompose:e.raiseCompose,changeview:e.changeview,user:e.user}))},className:"navigate_icon",id:"important_mail",children:Object(m.jsxs)("div",{className:"ImportantMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(w.a,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Important"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(T,{raiseCompose:e.raiseCompose,changeview:e.changeview,user:e.user}))},className:"navigate_icon",id:"inbox_mail",children:Object(m.jsxs)("div",{className:"Inboxmail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(_.b,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Inbox"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(q,{raiseCompose:e.raiseCompose,changeview:e.changeview,user:e.user}))},className:"navigate_icon",id:"sent_mail",children:Object(m.jsxs)("div",{className:"SentMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(S.a,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Sent"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(J,{raiseCompose:e.raiseCompose,changeview:e.changeview,user:e.user}))},className:"navigate_icon",id:"archived_mail",children:Object(m.jsxs)("div",{className:"ArchivedMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(_.a,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Archived"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(M,{raiseCompose:e.raiseCompose}))},className:"navigate_icon",id:"network_mail",children:Object(m.jsxs)("div",{className:"NetworkMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(w.b,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Network"})]})}),Object(m.jsx)("div",{onClick:function(){return e.changeview(Object(m.jsx)(P,{user:e.user}))},className:"navigate_icon",id:"groups_mail",children:Object(m.jsxs)("div",{className:"GroupMail"===e.view.type.name?"active_icon":"icon",children:[Object(m.jsx)(w.d,{}),Object(m.jsx)("div",{className:"icon_puropse",children:"Groups"})]})})]})]})},D=(a(38),a(30)),G=a(29),V=a.n(G),B=function(e){var t=e.raiseCompose,a=e.preBody,s=e.preSubject,n=e.preImportant,c=e.preRecipients,r=e.nosave,u=e.nosavename,j=e.user,p=i.a.useState(!1),b=Object(o.a)(p,2),h=b[0],f=b[1],O=i.a.useState({mail_subject:void 0===s?"":s,mail_recipients:void 0===c?"":c,important:void 0!==n&&n,mail_body:void 0===a?"":a}),v=Object(o.a)(O,2),x=v[0],_=v[1];function g(e){S({view_m:!1,message:""}),_((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))}))}function y(){var e=JSON.parse(localStorage.getItem("".concat(j.username))),a=e.drafts,s=e.contacts;if(""===x.mail_subject&&""===x.mail_body);else if(r)a=a.filter((function(e,t,a){return e.name!==u})),localStorage.setItem("".concat(j.username),JSON.stringify({drafts:a,contacts:s}));else if(h);else{var i=a.length;a.push({name:"Draft"+String(i),subject:x.mail_subject,recipients:x.mail_recipients,important:x.important,body:x.mail_body}),localStorage.setItem("".concat(j.username),JSON.stringify({drafts:a,contacts:s}))}t((function(e){return{preBody:"",preSubject:"",preImportant:!1,preRecipients:"",visible:!1}}))}var N=i.a.useState({view_m:!1,message:""}),w=Object(o.a)(N,2),C=w[0],S=w[1];return Object(m.jsx)(V.a,{children:Object(m.jsxs)("div",{id:"compose_email",children:[Object(m.jsxs)("div",{id:"email_declare",children:["Compose Email",Object(m.jsx)("span",{onClick:y,id:"close",children:"Close"})]}),Object(m.jsxs)("form",{id:"compose",children:[Object(m.jsx)("hr",{}),Object(m.jsx)("input",{value:x.mail_subject,onChange:g,id:"email_subject",name:"mail_subject",type:"text",autoComplete:"off",placeholder:"Subject of email"}),Object(m.jsx)("hr",{}),Object(m.jsx)("input",{value:x.mail_recipients,onChange:g,id:"email_recipients",name:"mail_recipients",type:"text",placeholder:"Enter email recipients seperated with , "}),Object(m.jsx)("hr",{}),Object(m.jsxs)("label",{children:["Mark as Important ",Object(m.jsx)("input",{onChange:g,type:"checkbox",name:"important",id:"important",checked:x.important})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("textarea",{value:x.mail_body,id:"email_body",onChange:g,name:"mail_body",placeholder:"Type message..."}),Object(m.jsx)("div",{onClick:function(){""===x.mail_subject||""===x.mail_body||""===x.mail_recipients?S({view_m:!0,message:"Please fill subject, recipient and body"}):(f(!0),S({view_m:!0,message:"Sending Mail"}),fetch("https://mailmanapi.herokuapp.com/emails",{method:"POST",body:JSON.stringify({email:j.username,password:j.password,recipients:x.mail_recipients,subject:x.mail_subject,body:x.mail_body,important:x.important})}).then((function(e){return e.json()})).then((function(e){void 0===e.error?(y(),f(!1)):S({view_m:!0,message:e.error})})))},id:"send_email",children:Object(m.jsx)(D.a,{})})]}),C.view_m&&Object(m.jsx)("div",{id:"message_toggle",children:C.message})]})})},H=function(e){var t=i.a.useState(Object(m.jsx)(I,{user:e.user})),a=Object(o.a)(t,2),s=a[0],n=a[1];return Object(m.jsxs)("div",{id:"inbox",children:[e.composeVisible.visible&&Object(m.jsx)(B,{user:e.user,raiseCompose:e.setComposeVisible,preBody:e.composeVisible.preBody,preSubject:e.composeVisible.preSubject,preRecipients:e.composeVisible.preRecipients,preImportant:e.composeVisible.preImportant,nosave:e.composeVisible.nosave,nosavename:e.composeVisible.nosavename}),Object(m.jsx)(R,{raiseCompose:e.setComposeVisible,changeview:n,view:s,user:e.user}),Object(m.jsx)("div",{id:"emails",children:s}),Object(m.jsx)(y,{raiseCompose:e.setComposeVisible,Contacts:e.contacts,contacted:e.contacted,groups:e.groups,profile:e.profile,user:e.user})]})},z=(a(45),function(e){return Object(m.jsxs)("div",{id:"welcome",children:[Object(m.jsxs)("div",{className:"declare_welcome",children:[Object(m.jsxs)("p",{children:["Welcome ",e.f_n," ",e.l_n]}),Object(m.jsx)("p",{id:"log_to",children:"Logging in to account"})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"declare_to",children:Object(m.jsx)("span",{children:e.email.split("@")[0]})})]})}),W=function(e){var t=e.groupname,a=e.creator,s=e.members,i=e.raiseCompose,n=s.map((function(e){return Object(m.jsx)("p",{children:e})}));return Object(m.jsxs)("div",{className:"group",children:[Object(m.jsxs)("div",{className:"group_name",children:[Object(m.jsxs)("div",{className:"name",children:[t,Object(m.jsx)("span",{style:{marginLeft:"10px",color:"#f2edaa",fontSize:"10px"},children:a?"(C)":""})]}),Object(m.jsx)("div",{onClick:function(){i((function(e){return{preBody:"",preSubject:"",preImportant:!1,visible:!0,preRecipients:s}}))},className:"account_mail",children:Object(m.jsx)(_.c,{color:"#6fc3d6"})})]}),Object(m.jsx)("div",{className:"group_members",children:Object(m.jsxs)("div",{className:"members",children:["Members:",n]})})]})},F=(a(46),function(){var e=Object(r.e)(),t=i.a.useState(!0),a=Object(o.a)(t,2),s=a[0],n=a[1];i.a.useEffect((function(){window.setTimeout((function(){n(!1)}),5e3)}),[]),null===localStorage.getItem("".concat(e.state.username))&&localStorage.setItem("".concat(e.state.username),JSON.stringify({contacts:[],drafts:[]}));var c=i.a.useState([]),l=Object(o.a)(c,2),d=l[0],u=l[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/accounts",{method:"POST",body:JSON.stringify({username:e.state.username})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return Object(m.jsxs)("div",{id:"logger",children:[Object(m.jsxs)("p",{id:"profile_name",children:[e.firstname," ",e.lastname]}),Object(m.jsx)("p",{id:"profile_email",children:e.email})]})}));u(t)}))}),[]);var j=i.a.useState([]),p=Object(o.a)(j,2),b=p[0],h=p[1];i.a.useEffect((function(){var t=JSON.parse(localStorage.getItem("".concat(e.state.username))).contacts.map((function(e){return Object(m.jsx)(g,{firstname:e.name,lastname:"",raiseCompose:E,email:e.email})}));h(t)}),[]);var f=i.a.useState([]),O=Object(o.a)(f,2),v=O[0],x=O[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/account/contacted",{method:"POST",body:JSON.stringify({email:e.state.username,password:e.state.password,mailbox:e.state.mailbox})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return Object(m.jsx)(g,{raiseCompose:E,firstname:e.firstname,lastname:e.lastname,email:e.email})}));x(t)}))}),[]);var _=i.a.useState([]),y=Object(o.a)(_,2),N=y[0],w=y[1];i.a.useEffect((function(){fetch("https://mailmanapi.herokuapp.com/account/your_groups",{method:"POST",body:JSON.stringify({email:e.state.username,password:e.state.password,operation:""})}).then((function(e){return e.json()})).then((function(t){var a=t.map((function(t){return Object(m.jsx)(W,{raiseCompose:E,groupname:t.name,creator:e.state.username===t.creator,members:t.members})}));w(a)}))}),[]);var C=i.a.useState({visible:!1,preBody:"",preSubject:"",preImportant:!1,preRecipients:""}),S=Object(o.a)(C,2),k=S[0],E=S[1];return Object(m.jsxs)("div",{id:"mailbox",children:[s&&Object(m.jsx)(z,{f_n:e.state.f_n,l_n:e.state.l_n,email:e.state.username}),Object(m.jsx)(H,{composeVisible:k,setComposeVisible:E,contacts:b,contacted:v,groups:N,profile:d,user:{username:e.state.username,password:e.state.password,firstname:e.state.firstname,lastname:e.state.lastname}})]})}),Q=function(){return Object(m.jsx)("div",{id:"landing",children:Object(m.jsxs)(r.c,{children:[Object(m.jsx)(r.a,{path:"/domail/",element:Object(m.jsx)(O,{}),exact:!0}),Object(m.jsx)(r.a,{path:"/register",element:Object(m.jsx)(x,{}),exact:!0}),Object(m.jsx)(r.a,{path:"/emails/inbox",element:Object(m.jsx)(F,{}),exact:!0})]})})},Y=(a(47),function(){return Object(m.jsx)("div",{id:"app",children:Object(m.jsx)(f.a,{children:Object(m.jsx)(Q,{})})})});c.a.render(Object(m.jsx)(Y,{}),document.getElementById("root"))},9:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.deafbb54.chunk.js.map